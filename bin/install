#!/usr/bin/bash

# Load dependencies
source <(curl -fsSL https://raw.githubusercontent.com/ildx/jarvis/main/bin/printers)
source <(curl -fsSL https://raw.githubusercontent.com/ildx/jarvis/main/bin/requirements)
source <(curl -fsSL https://raw.githubusercontent.com/ildx/jarvis/main/bin/setup)

# Obs, bail out
set -e

# ---------------------------------
# Let's begin
# ---------------------------------

# Supa-dupa-fly
sudo -v

# Go home, and start fresh
cd && clear

# Be polite!
if ! has_nix; then
  echo "Hello $(whoami)! Let's get you set up."
else
  echo "Welcome back $(whoami)! Let's continue."
fi

printf "\n"

if ! has_nix; then
  install_requirements()
else
  install_nix()
fi

printf "\n"
